# MyBot - Telegram Bot

Java-–±–æ—Ç –¥–ª—è Telegram, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–≥–æ–¥–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –°–æ–∑–¥–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Java 11, Maven –∏ Telegram Bot API.

## üöÄ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–≠—Ç–æ Telegram –±–æ—Ç –Ω–∞ Java, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π Long Polling –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π. –ë–æ—Ç —É–º–µ–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–≥–æ–¥–µ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.

### üåü –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü–æ–≥–æ–¥–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –ª—é–±–æ–≥–æ –≥–æ—Ä–æ–¥–∞ –º–∏—Ä–∞
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ (–Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å `/`)
- –£–º–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å–æ–æ–±—â–µ–Ω–∏–π - —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏—è –≥–æ—Ä–æ–¥–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö API
- –ü–æ–¥—Ä–æ–±–Ω—ã–µ —Å–ø—Ä–∞–≤–æ—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

##üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

-MyBot/
- ‚îú‚îÄ‚îÄ src/
- ‚îÇ   ‚îú‚îÄ‚îÄ main/
- ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ java/
- ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ com/
- ‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ mybot/
- ‚îÇ   ‚îÇ               ‚îú‚îÄ‚îÄ Bot.java              # –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –±–æ—Ç–∞
- ‚îÇ   ‚îÇ               ‚îú‚îÄ‚îÄ Main.java             # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- ‚îÇ   ‚îÇ               ‚îú‚îÄ‚îÄ config/
- ‚îÇ   ‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ BotConfig.java    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–æ—Ç–∞
- ‚îÇ   ‚îÇ               ‚îú‚îÄ‚îÄ handlers/
- ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ CommandHandler.java  # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥
- ‚îÇ   ‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ MessageHandler.java  # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚îÇ   ‚îÇ               ‚îî‚îÄ‚îÄ weather/
- ‚îÇ   ‚îÇ                   ‚îú‚îÄ‚îÄ WeatherAPI.java   # API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–≥–æ–¥—ã
- ‚îÇ   ‚îÇ                   ‚îî‚îÄ‚îÄ WeatherData.java  # –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–≥–æ–¥–µ
- ‚îÇ   ‚îî‚îÄ‚îÄ test/
- ‚îÇ       ‚îî‚îÄ‚îÄ java/
- ‚îÇ           ‚îî‚îÄ‚îÄ com/
- ‚îÇ               ‚îî‚îÄ‚îÄ mybot/
- ‚îÇ                   ‚îú‚îÄ‚îÄ BotTest.java          # –¢–µ—Å—Ç—ã –≥–ª–∞–≤–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞
- ‚îÇ                   ‚îú‚îÄ‚îÄ config/
- ‚îÇ                   ‚îÇ   ‚îî‚îÄ‚îÄ BotConfigTest.java # –¢–µ—Å—Ç—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚îÇ                   ‚îú‚îÄ‚îÄ handlers/
- ‚îÇ                   ‚îÇ   ‚îú‚îÄ‚îÄ CommandHandlerTest.java # –¢–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥
- ‚îÇ                   ‚îÇ   ‚îî‚îÄ‚îÄ MessageHandlerTest.java # –¢–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚îÇ                   ‚îî‚îÄ‚îÄ weather/
- ‚îÇ                       ‚îî‚îÄ‚îÄ WeatherDataTest.java # –¢–µ—Å—Ç—ã –º–æ–¥–µ–ª–∏ –ø–æ–≥–æ–¥—ã
- ‚îú‚îÄ‚îÄ pom.xml              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Maven
- ‚îî‚îÄ‚îÄ README.md

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Java 11 –∏–ª–∏ –≤—ã—à–µ
- Maven 3.6+
- –¢–æ–∫–µ–Ω –±–æ—Ç–∞ Telegram –æ—Ç @BotFather (https://t.me/BotFather)
- API –∫–ª—é—á –æ—Ç Weatherstack (https://weatherstack.com/)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –±–æ—Ç–∞:**

- bash
- git clone <–≤–∞—à-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π>
- cd MyBot
   
2. **–û–±–Ω–æ–≤–∏—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±–æ—Ç–∞ –≤ BotConfig.java:**

- java
- public class BotConfig {
-    public static final String BOT_TOKEN = "–≤–∞—à-–Ω–∞—Å—Ç–æ—è—â–∏–π-—Ç–æ–∫–µ–Ω-–±–æ—Ç–∞";
-    public static final String BOT_USERNAME = "–≤–∞—à-username-–±–æ—Ç–∞";
-    public static final String WEATHER_API_KEY = "–≤–∞—à-weatherstack-api-–∫–ª—é—á";
-    public static final String WEATHER_API_URL = "http://api.weatherstack.com/current";
- }

3. **–°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:**

- bash
- mvn clean compile

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**

- bash
- mvn exec:java -Dexec.mainClass="com.mybot.Main"

##üíª –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

**–°–±–æ—Ä–∫–∞**

- bash
- mvn clean package

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

- bash
- mvn test

**–û—Ç—á–µ—Ç –æ –ø–æ–∫—Ä—ã—Ç–∏–∏ –∫–æ–¥–∞**

- bash
- mvn jacoco:report

- –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –æ—Ç—á–µ—Ç: target/site/jacoco/index.html

## üìä –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- /start - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º
- /help - –ü–æ–ª—É—á–∏—Ç—å —Å–ø—Ä–∞–≤–∫—É –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
- /help [–∫–æ–º–∞–Ω–¥–∞] - –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–æ–º–∞–Ω–¥–µ
- /about - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ
- /authors - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–≤—Ç–æ—Ä–∞—Ö
- /weather [–≥–æ—Ä–æ–¥] - –ü–æ–ª—É—á–∏—Ç—å –ø–æ–≥–æ–¥—É –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- /weather –ú–æ—Å–∫–≤–∞
- /help weather
- –ø–æ–≥–æ–¥–∞ –õ–æ–Ω–¥–æ–Ω
- –ú–æ—Å–∫–≤–∞ (–±–æ—Ç –ø—Ä–µ–¥–ª–æ–∂–∏—Ç —É–∑–Ω–∞—Ç—å –ø–æ–≥–æ–¥—É)

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- telegrambots (6.8.0) - API –¥–ª—è Telegram –±–æ—Ç–æ–≤
- slf4j-simple (2.0.9) - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- gson (2.10.1) - –ü–∞—Ä—Å–∏–Ω–≥ JSON

### –¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- JUnit Jupiter (5.9.2) - –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- Mockito (4.11.0) - –§—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –º–æ–∫–æ–≤

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
- mvn test

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
- mvn jacoco:prepare-agent test jacoco:report

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

- BotTest - –¢–µ—Å—Ç—ã –≥–ª–∞–≤–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –±–æ—Ç–∞
- CommandHandlerTest - –¢–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥
- –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- MessageHandlerTest - –¢–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –≥–æ—Ä–æ–¥–æ–≤
- WeatherDataTest - –¢–µ—Å—Ç—ã –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–≥–æ–¥–µ
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–≤–æ–¥–∞
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–º–æ–¥–∑–∏ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–æ–≥–æ–¥–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π

### –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ > 80%
- ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- ‚úÖ –ú–æ–∫-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–æ—Ç–∞
- –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ src/main/java/com/mybot/config/BotConfig.java:

- public class BotConfig {
-    public static final String BOT_TOKEN = "–í–ê–®_–¢–û–ö–ï–ù_–ë–û–¢–ê";
-    public static final String BOT_USERNAME = "–í–ê–®_USERNAME_–ë–û–¢–ê";
-    public static final String WEATHER_API_KEY = "–í–ê–®_WEATHERSTACK_API_–ö–õ–Æ–ß";
-    public static final String WEATHER_API_URL = "http://api.weatherstack.com/current";
- }

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Maven
**–ö–ª—é—á–µ–≤—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –≤ pom.xml:**
- –í–µ—Ä—Å–∏—è Java: 11
- –ö–æ–¥–∏—Ä–æ–≤–∫–∞ UTF-8
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å JUnit 5 –∏ Mockito
- JaCoCo –¥–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞

## üèó –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã
- Bot.java - –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –±–æ—Ç–∞, —Ä–∞—Å—à–∏—Ä—è—é—â–∏–π TelegramLongPollingBot
- Main.java - –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- BotConfig.java - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
- CommandHandler.java - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ (–Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å /)
- MessageHandler.java - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–±—ã—á–Ω—ã–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

### –ú–æ–¥–µ–ª—å –ø–æ–≥–æ–¥—ã
- WeatherAPI.java - –ö–ª–∏–µ–Ω—Ç –¥–ª—è Weatherstack API —Å retry-–ª–æ–≥–∏–∫–æ–π
- WeatherData.java - –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–≥–æ–¥–µ —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤—ã–≤–æ–¥–∞

## üîß –ü–ª–∞–≥–∏–Ω—ã Maven

- maven-surefire-plugin - –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
- jacoco-maven-plugin - –û—Ç—á–µ—Ç—ã –æ –ø–æ–∫—Ä—ã—Ç–∏–∏ –∫–æ–¥–∞

## üìà –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

- ‚úÖ –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ç–æ—Ç–∏–ø  
- ‚úÖ –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ  
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è  
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫  
- ‚úÖ Retry-–º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è API

---

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ: –£—à–∫–æ–≤ –†–æ–º–∞–Ω –∏ –ö—Ä—ã–ª–æ—Å–æ–≤ –î–∞–Ω–∏–∏–ª  
–í–µ—Ä—Å–∏—è: 1.0.0  
–õ–∏—Ü–µ–Ω–∑–∏—è: MIT
